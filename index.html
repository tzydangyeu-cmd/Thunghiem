<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <title>T·∫øt Nguy√™n ƒê√°n 2026 üßß</title>
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">



    <style>
        html {
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        body {
            margin: 0;
            overflow: hidden;
            background: black;
            font-family: Arial, sans-serif;
        }

        /* xoay ngang */
        #rotateScreen {
            position: fixed;
            inset: 0;
            background: black;
            color: white;
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        .rotate-box {
            font-size: 20px;
            text-align: center;
        }

        #startBtn {
            padding: 18px 40px;
            font-size: 22px;
            border: none;
            border-radius: 40px;
            background: linear-gradient(45deg, #ff5252, #ffb300);
            color: white;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255, 200, 0, 0.8);
        }

        /* ===== FONT CH·ªÆ RI√äNG ===== */
        @font-face {
            font-family: "TetFont";
            src: url("https://raw.githubusercontent.com/ngotranhoangthinhhtk8c-cmd/Dip_tet_nguyen_dan/202e0674ff4858d19e9c4d18cee0314c30a7529d/SVN-Dancing-script.ttf") format("truetype");
            font-weight: normal;
            font-style: normal;
        }


        /* ===== M√ÄN XOAY ===== */
        #rotateScreen {
            position: fixed;
            inset: 0;
            background: black;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        /* ===== ICON ƒêI·ªÜN THO·∫†I ===== */
        #phoneIcon {
            width: 100px;
            /* k√≠ch c·ªü icon xoay ngang */
            margin-bottom: 40px;
            opacity: 0;
            animation: phoneAnim 1.8s linear infinite;
            filter: drop-shadow(0 0 12px white);
        }

        /* ===== CH·ªÆ PH√ÅT S√ÅNG ===== */
        .rotateText {
            font-family: "TetFont", cursive;
            font-size: 30px;
            /* k√≠ch c·ª° ch·ªØ y√™u c·∫ßu xoay ngang*/
            color: white;
            text-align: center;

            text-shadow:
                0 0 5px #fff,
                0 0 15px #fff,
                0 0 30px rgba(255, 255, 255, 0.9);

            animation: glowText 2s ease-in-out infinite alternate;
        }

        /* ===== ANIMATION XOAY ƒêI·ªÜN THO·∫†I ===== */
        @keyframes phoneAnim {
            0% {
                opacity: 0;
                transform: rotate(0deg);
            }

            20% {
                opacity: 1;
            }

            80% {
                opacity: 1;
                transform: rotate(-90deg);
            }

            100% {
                opacity: 0;
                transform: rotate(-90deg);
            }
        }


        /* ===== CH·ªÆ NH√ÅY S√ÅNG ===== */
        @keyframes glowText {
            from {
                text-shadow:
                    0 0 5px #fff,
                    0 0 15px #fff;
            }

            to {
                text-shadow:
                    0 0 10px #fff,
                    0 0 25px #fff,
                    0 0 40px rgba(255, 255, 255, 1);
            }
        }

        /* ===== INTRO SCREEN ===== */
        #introScreen {
            position: fixed;
            inset: 0;
            background: black;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 20;
        }

        /* ===== KHUNG VI·ªÄN ===== */
        #introBox {
            padding: 40px 60px;
            border: 2px solid white;
            opacity: 0;
            box-shadow: 0 0 20px white;
            transition: opacity 1.5s ease;
            position: relative;
        }

        /* ===== CH·ªÆ CH√çNH ===== */
        #introText {
            font-family: "TetFont", cursive;
            font-size: 38px;
            color: white;
            text-align: center;
            white-space: pre-line;
            text-shadow:
                0 0 5px #fff,
                0 0 15px #fff,
                0 0 30px rgba(255, 255, 255, 0.9);
        }

        /* ===== CH·ªÆ NH·ªé ===== */
        #tapHint {
            position: absolute;
            bottom: -28px;
            right: 0;
            font-size: 14px;
            color: white;
            font-family: "TetFont", cursive;
            letter-spacing: 0.5px;
            text-decoration: underline;
            /* ‚Üê g·∫°ch ngang */
            text-underline-offset: 4px;
            /* ‚Üê h·∫° g·∫°ch xu·ªëng cho ƒë·∫πp */
        }

        #loadingScreen {
            position: fixed;
            inset: 0;
            background: black;
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 30;
        }

        .loadingText {
            font-family: "TetFont", cursive;
            font-size: 28px;
            color: white;
            text-shadow:
                0 0 5px #fff,
                0 0 15px #fff,
                0 0 30px rgba(255, 255, 255, 0.9);
            animation: glowText 2s ease-in-out infinite alternate;
        }
    </style>


</head>


<body style="text-align:center; background:#000; font-family:Arial;">

    <div id="rotateScreen">
        <img id="phoneIcon"
            src="https://raw.githubusercontent.com/ngotranhoangthinhhtk8c-cmd/Dip_tet_nguyen_dan/main/Anh_he_thong/phone.png"
            alt="Rotate phone" />
        <div class="rotateText">Vui l√≤ng xoay ngang m√†n h√¨nh</div>
    </div>

    <!-- M√ÄN H√åNH B·∫ÆT ƒê·∫¶U -->
    <div id="introScreen">
        <div id="introBox">
            <div id="introText"></div>
            <div id="tapHint"></div>
        </div>
    </div>
    <div id="loadingScreen">
        <div class="loadingText">ƒêang chu·∫©n b·ªã √¢m thanh...</div>
    </div>
    <!-- ph·∫ßn ph√°o th∆∞·ªùng -->
    <canvas id="fireworks"></canvas>

    <script>
        const canvas = document.getElementById("fireworks");
        const ctx = canvas.getContext("2d");

        const rotateScreen = document.getElementById("rotateScreen");

        let started = false;
        let rockets = [];
        let particles = [];

        // --------- RESIZE ----------
        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resize();
        window.addEventListener("resize", resize);

        // --------- KI·ªÇM TRA XOAY ----------
        function checkOrientation() {
            const isMobile = /Android|iPhone|iPad/i.test(navigator.userAgent);

            // ===== PC: KH√îNG KI·ªÇM TRA XOAY =====
            if (!isMobile) {
                rotateScreen.style.display = "none";
                startIntro(
                    introScreen.style.display = "flex"
                ); // PC lu√¥n ch·∫°y intro
                return true;
            }

            // ===== MOBILE: ƒêANG D·ªåC ‚Üí B·∫ÆT XOAY =====
            if (window.innerHeight > window.innerWidth) {
                rotateScreen.style.display = "flex";
                return false;
            }

            // ===== MOBILE: ƒê√É XOAY NGANG =====
            rotateScreen.style.display = "none";
            startIntro();
            return true;
        }

        window.addEventListener("resize", checkOrientation);
        window.addEventListener("orientationchange", checkOrientation);

        // --------- ROCKET ----------
        class Rocket {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = canvas.height + 20;

                this.vy = -(12 + Math.random() * 4);
                this.gravity = 0.15;

                this.vx = (Math.random() - 0.5) * 1.2;
                this.wave = Math.random() * 0.1;

                this.color = `hsl(${Math.random() * 360},100%,65%)`;

                this.stop = false;
                this.wait = 0;
            }

            update() {
                if (!this.stop) {
                    this.vy += this.gravity;

                    if (this.vy >= 0) {
                        this.vy = 0;
                        this.stop = true;
                    }

                    this.y += this.vy;
                    this.x += this.vx + Math.sin(this.y * this.wave);
                } else {
                    this.wait++;
                    if (this.wait > 60) {
                        this.explode();
                        return false;
                    }
                }
                return true;
            }

            draw() {
                if (this.stop) return;

                ctx.save();
                ctx.shadowBlur = 20;
                ctx.shadowColor = this.color;

                ctx.beginPath();
                ctx.arc(this.x, this.y, 2.5, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
                ctx.restore();
            }
            explode() {
                playBoom();

                for (let i = 0; i < 100; i++) {
                    particles.push(new Particle(this.x, this.y, this.color));
                }
            }
        }



        // --------- PARTICLE ----------
        class Particle {
            constructor(x, y, color) {
                this.x = x;
                this.y = y;
                this.color = color;

                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 6 + 4;

                this.vx = Math.cos(angle) * speed;
                this.vy = Math.sin(angle) * speed;

                this.life = 120;
                this.size = Math.random() * 2 + 1;
            }

            update() {
                this.vx *= 0.97;
                this.vy *= 0.97;

                this.x += this.vx;
                this.y += this.vy;

                this.life--;
                return this.life > 0;
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.life / 120;
                ctx.shadowBlur = 30 + Math.random() * 10;
                ctx.shadowColor = this.color;

                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
                ctx.restore();
            }
        }

        // --------- LOOP ----------
        function animate() {
            if (!started) return;

            ctx.fillStyle = "rgba(0,0,0,0.25)";
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            if (Math.random() < 0.04) {
                rockets.push(new Rocket());
            }

            rockets = rockets.filter(r => {
                r.draw();
                return r.update();
            });

            particles = particles.filter(p => {
                p.draw();
                return p.update();
            });

            requestAnimationFrame(animate);
        }



        // ki·ªÉm tra ban ƒë·∫ßu
        checkOrientation();
    </script>
    <script>
        function enterFullscreen() {
            const el = document.documentElement;

            if (el.requestFullscreen) {
                el.requestFullscreen();
            } else if (el.webkitRequestFullscreen) {
                el.webkitRequestFullscreen(); // Safari
            }
        }
    </script>
    <script>
        let audioCtx;
        let boomBuffer;

        async function initAudio() {
            audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            if (audioCtx.state === "suspended") {
                await audioCtx.resume();
            }
            const response = await fetch("audio/boom.mp3");
            const arrayBuffer = await response.arrayBuffer();
            boomBuffer = await audioCtx.decodeAudioData(arrayBuffer);
        }

        function playBoom() {
            if (!boomBuffer || !audioCtx) return;

            const source = audioCtx.createBufferSource();
            source.buffer = boomBuffer;
            source.connect(audioCtx.destination);
            source.start(0);
        }
    </script>
    <script>
        const loadingScreen = document.getElementById("loadingScreen");
        const introScreen = document.getElementById("introScreen");
        const introBox = document.getElementById("introBox");
        const introText = document.getElementById("introText");
        const tapHint = document.getElementById("tapHint");

        const mainText = "H√£y qu√™n ƒëi mu·ªôn phi·ªÅn nƒÉm c≈©\nC√πng nhau ƒë√≥n T·∫øt th√¥i n√†o";
        const hintText = "nh·∫•n v√†o m√†n h√¨nh";

        const music = new Audio("https://raw.githubusercontent.com/tzydangyeu-cmd/Nam_moi_cho_em/main/sounds/bg.mp3");

        let textIndex = 0;
        let hintIndex = 0;
        let introDone = false;

        /* ===== G√ï CH·ªÆ CH√çNH ===== */
        function typeMainText() {
            if (textIndex < mainText.length) {
                introText.textContent += mainText.charAt(textIndex);
                textIndex++;
                setTimeout(typeMainText, 60);
            } else {
                setTimeout(typeHintText, 500);
            }
        }

        /* ===== G√ï CH·ªÆ NH·ªé ===== */
        function typeHintText() {
            if (hintIndex < hintText.length) {
                tapHint.textContent += hintText.charAt(hintIndex);
                hintIndex++;
                setTimeout(typeHintText, 80);
            } else {
                introDone = true;
            }
        }

        let introStarted = false;

        function startIntro() {
            if (introStarted) return;
            introStarted = true;
            introScreen.style.display = "flex";
            introText.textContent = "";
            tapHint.textContent = "";
            introBox.style.opacity = 1;
            setTimeout(typeMainText, 800);
        }

        /* ===== NH·∫§N ƒê·ªÇ TI·∫æP T·ª§C ===== */
        introScreen.addEventListener("click", async () => {
            if (!introDone) return;

            enterFullscreen();

            introScreen.style.transition = "opacity 1.5s ease";
            introScreen.style.opacity = 0;

            setTimeout(async () => {
                introScreen.remove();

                // HI·ªÜN LOADING
                loadingScreen.style.display = "flex";

                // KH·ªûI T·∫†O AUDIO (C√ö CH·∫†M H·ª¢P L·ªÜ)
                await initAudio();

                // LOADING XONG ‚Üí DELAY 2S
                setTimeout(() => {
                    loadingScreen.style.opacity = 0;

                    setTimeout(() => {
                        loadingScreen.remove();
                        started = true;
                        animate();
                    }, 1000);

                }, 2000);

            }, 1500);
        });


    </script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const isMobile = /Android|iPhone|iPad/i.test(navigator.userAgent);

            // ===== PC: CH·∫†Y INTRO NGAY =====
            if (!isMobile) {
                console.log("PC detected ‚Üí start intro");
                startIntro();
            }
        });
    </script>

</body>

</html>